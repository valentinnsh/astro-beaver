module matrix_dat
contains
  subroutine make_data(n)
    integer i, j, n
    real tmp
    real, allocatable, dimension(:,:) :: matrix
    open(10, file = 'data1.dat')
    write(10,"('# ',I6)") n
    allocate(matrix(n,n))
    call RANDOM_NUMBER(matrix)
    write(10, *) matrix
    close(10)
    deallocate(matrix)

    open(10, file = 'data2.dat')
    write(10,"('# ',I6)") n
    allocate(matrix(n,n))
    call RANDOM_NUMBER(matrix)
    write(10, *) matrix
    close(10)
    deallocate(matrix)
  end subroutine make_data
end module matrix_dat
